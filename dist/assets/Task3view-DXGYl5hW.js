import{c as b,S as x,_ as v}from"./logo-kNHFmx0a.js";import{c as d,a as t,e as g,b as y,t as m,n as w,F as u,f,g as I,o as l,h as p,i as D}from"./index-BiZalZwz.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T={name:"Task3View",data(){return{items:[{id:0,name:"Calligraphy panel ðŸ–‹ï¸",matched:!1},{id:1,name:"Al Noor Mosque ðŸ•Œ",matched:!1},{id:2,name:"Dhow painting â›µ",matched:!1},{id:3,name:"Falcon sculpture ðŸ¦…",matched:!1},{id:4,name:"Sand dune photo ðŸœï¸",matched:!1}],meanings:[{id:0,text:"A. Tribute to UAE's maritime roots and trade heritage",matched:!1,matchedItemIndex:null,correct:null},{id:1,text:"B. Connection between nature and human endurance",matched:!1,matchedItemIndex:null,correct:null},{id:2,text:"C. Expression of divine beauty through Arabic script",matched:!1,matchedItemIndex:null,correct:null},{id:3,text:"D. Symbol of light, learning, and spiritual openness",matched:!1,matchedItemIndex:null,correct:null},{id:4,text:"E. National pride, strength, and freedom",matched:!1,matchedItemIndex:null,correct:null}],correctMatches:{0:2,1:3,2:0,3:4,4:1},draggedItem:null,draggedItemType:null,progress:0,isDraggingOver:null,touchClone:null,currentTouchDrop:null,gameOver:!1}},computed:{allMatched(){const r=this.items.every(e=>e.matched);return r&&this.celebrate(),r}},mounted(){document.querySelectorAll("[draggable='true']").forEach((e,a)=>{e.addEventListener("touchstart",n=>this.onTouchStart(n,a)),e.addEventListener("touchmove",n=>this.onTouchMove(n)),e.addEventListener("touchend",n=>this.onTouchEnd(n))})},methods:{celebrate(){b({particleCount:100,spread:70,origin:{y:.6}}),x.fire({title:"Amazing!",text:"You've completed all matches!",icon:"success",confirmButtonText:"Play Again"}).then(()=>this.resetGame())},updateProgress(){const r=this.items.filter(e=>e.matched).length;this.progress=r/this.items.length*100},resetGame(){this.items=this.items.map(r=>({...r,matched:!1})),this.meanings=this.meanings.map(r=>({...r,matched:!1,matchedItemIndex:null,correct:null})),this.progress=0},onDragStart(r,e,a){if(this.items[e].matched){r.preventDefault();return}this.draggedItem=e,this.draggedItemType=a,r.dataTransfer.effectAllowed="move",r.target.classList.add("dragging")},onDragEnd(r){this.draggedItem=null,this.draggedItemType=null,document.querySelectorAll(".dragging").forEach(e=>e.classList.remove("dragging"))},onDrop(r,e,a){if(this.draggedItemType==="item"&&a==="meaning"){const n=this.draggedItem,i=this.correctMatches[n]===e;if(this.meanings[e].matched=!0,this.meanings[e].matchedItemIndex=n,this.meanings[e].correct=i,i)this.items[n].matched=!0,this.updateProgress(),this.items.every(s=>s.matched)&&this.celebrate();else{const s=r.target.closest(".drop-zone");s&&(s.classList.add("shake-animation"),this.meanings[e].correct=!1,setTimeout(()=>{s.classList.remove("shake-animation")},1e3))}}},onTouchStart(r,e){r.preventDefault(),!this.items[e].matched&&(this.draggedItem=e,this.draggedItemType="item",this.touchClone=r.target.cloneNode(!0),Object.assign(this.touchClone.style,{position:"fixed",pointerEvents:"none",opacity:"0.7",zIndex:"9999",left:r.touches[0].clientX+"px",top:r.touches[0].clientY+"px"}),document.body.appendChild(this.touchClone))},onTouchMove(r){if(!this.touchClone)return;const e=r.touches[0];this.touchClone.style.left=e.clientX-50+"px",this.touchClone.style.top=e.clientY-30+"px";const a=document.elementFromPoint(e.clientX,e.clientY);document.querySelectorAll(".drop-zone").forEach(n=>n.classList.remove("highlight")),a&&a.classList.contains("drop-zone")&&(a.classList.add("highlight"),this.currentTouchDrop=a)},onTouchEnd(r){if(this.touchClone&&(this.touchClone.remove(),this.touchClone=null),this.currentTouchDrop){const e=Array.from(document.querySelectorAll(".drop-zone")).indexOf(this.currentTouchDrop);e>=0&&this.onDrop(r,e,"meaning"),this.currentTouchDrop.classList.remove("highlight"),this.currentTouchDrop=null}this.draggedItem=null,this.draggedItemType=null}}},C={class:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 p-3 md:p-6 transition-colors duration-300"},A={class:"max-w-3xl mx-auto"},E={class:"bg-white rounded-xl shadow-md p-5 mb-6 transition-all duration-200 hover:shadow-sm"},M={class:"mt-5"},S={class:"flex justify-between text-xs text-gray-500 mb-1"},k={class:"font-medium"},L={class:"w-full bg-gray-100 rounded-full h-2 overflow-hidden"},z={class:"grid grid-cols-1 md:grid-cols-2 gap-6 my-8"},N={class:"bg-white rounded-xl shadow-md p-6 border border-gray-100"},G={class:"space-y-3"},O=["onDragstart"],P={class:"flex items-center space-x-2"},Y={class:"text-xl"},q={class:"bg-white rounded-xl shadow-md p-6 border border-gray-100"},B={class:"space-y-3"},V=["onDrop"],j={class:"font-medium text-gray-800"},F={key:0,class:"mt-2 p-2 bg-white rounded border-l-4 border-orange-400 text-sm text-gray-700 shadow-sm animate-fade-in"},X={key:0,class:"mt-8 p-8 text-center bg-gradient-to-r from-green-50 to-blue-50 rounded-xl border-2 border-green-200 animate-fade-in"},U={class:"text-lg font-medium mb-6"},Q={class:"text-blue-600 font-bold"},R={key:1,class:"mt-8 p-8 text-center bg-gradient-to-r from-red-50 to-pink-50 rounded-xl border-2 border-red-200 animate-fade-in"};function Z(r,e,a,n,i,s){return l(),d("div",C,[t("div",A,[t("div",E,[e[5]||(e[5]=y('<div class="text-center space-y-1"><div class="flex flex-col items-center -mb-1"><img src="'+v+'" alt="Logo" class="h-10 md:h-12 w-auto"><h1 class="text-xl md:text-2xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent"> Urban Navigator <div class="text-xs md:text-sm font-medium text-gray-500">Sharjah â€“ Al Noor Mosque / Art Museum</div></h1></div><div class="w-12 h-0.5 bg-gradient-to-r from-blue-400 to-indigo-400 mx-auto my-1.5 rounded-full"></div><h2 class="text-base text-gray-600 font-medium">QR Match of Meaning</h2></div><p class="text-sm text-gray-600 text-center max-w-2xl mx-auto mt-3 mb-4 leading-relaxed"> Match the icons with their corresponding meanings by dragging and dropping. </p>',2)),t("div",M,[t("div",S,[e[4]||(e[4]=t("span",null,"Progress",-1)),t("span",k,m(Math.round(i.progress))+"%",1)]),t("div",L,[t("div",{class:"h-full bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 transition-all duration-500 ease-out",style:w({width:`${i.progress}%`})},null,4)])])]),t("div",z,[t("div",N,[e[6]||(e[6]=t("h3",{class:"text-center text-lg font-semibold text-blue-700 mb-4 pb-2 border-b-2 border-blue-200"},"Icons",-1)),t("div",G,[(l(!0),d(u,null,f(i.items,(o,c)=>(l(),d("div",{key:"item-"+c,draggable:"true",onDragstart:h=>s.onDragStart(h,c,"item"),onDragend:e[0]||(e[0]=(...h)=>s.onDragEnd&&s.onDragEnd(...h)),class:p(["draggable-item",["p-4 rounded-lg border-2 transition-all duration-200 cursor-move select-none text-lg",o.matched?"bg-green-50 border-green-300 text-green-800 pr-10 relative":"bg-white border-gray-200 hover:border-blue-400 hover:shadow-md",o.matched?"matched-item":""]])},[t("div",P,[t("span",Y,m(o.name.split(" ")[o.name.split(" ").length-1]),1),t("span",null,m(o.name.split(" ").slice(0,-1).join(" ")),1)])],42,O))),128))])]),t("div",q,[e[7]||(e[7]=t("h3",{class:"text-center text-lg font-semibold text-blue-700 mb-4 pb-2 border-b-2 border-blue-200"},"Meanings",-1)),t("div",B,[(l(!0),d(u,null,f(i.meanings,(o,c)=>(l(),d("div",{key:"meaning-"+c,onDragover:e[1]||(e[1]=D(()=>{},["prevent"])),onDrop:h=>s.onDrop(h,c,"meaning"),class:p(["p-4 rounded-lg transition-all duration-200 min-h-[60px]",o.matched&&o.correct?"bg-green-50 border-2 border-green-300":o.matched&&!o.correct?"bg-red-50 border-2 border-red-300 shake-animation":"bg-gray-50 border-2 border-dashed border-gray-300 hover:border-blue-400 hover:bg-blue-50","drop-zone",{highlight:i.isDraggingOver===c}])},[t("div",j,m(o.text),1),o.matchedItemIndex!==null?(l(),d("div",F,m(i.items[o.matchedItemIndex].name),1)):g("",!0)],42,V))),128))])])]),s.allMatched?(l(),d("div",X,[e[9]||(e[9]=t("div",{class:"text-4xl mb-4"},"ðŸŽ‰",-1)),e[10]||(e[10]=t("h3",{class:"text-2xl font-bold text-green-700 mb-3"},"Level Complete! ðŸŽ‰",-1)),e[11]||(e[11]=t("p",{class:"text-gray-700 mb-4"},"Perfect! You've matched all items correctly!",-1)),t("p",U,[e[8]||(e[8]=I("Your final score: ",-1)),t("span",Q,m(r.score)+" points",1)]),t("button",{onClick:e[2]||(e[2]=(...o)=>s.resetGame&&s.resetGame(...o)),class:"px-8 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white font-semibold rounded-full shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-orange-400 focus:ring-offset-2"}," Play Again ")])):g("",!0),i.gameOver?(l(),d("div",R,[e[12]||(e[12]=t("h3",{class:"text-2xl font-bold text-red-700 mb-3"},"Game Over",-1)),e[13]||(e[13]=t("p",{class:"text-gray-700 mb-6"},"You've run out of lives!",-1)),t("button",{onClick:e[3]||(e[3]=(...o)=>s.resetGame&&s.resetGame(...o)),class:"px-8 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white font-semibold rounded-full shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-orange-400 focus:ring-offset-2"}," Try Again ")])):g("",!0)])])}const W=_(T,[["render",Z]]);export{W as default};
